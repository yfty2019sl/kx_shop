"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.doubleRaf = exports.cancelRaf = exports.raf = exports.inBrowser = void 0;
exports.inBrowser = typeof window !== 'undefined';
var root = (exports.inBrowser ? window : global);
var prev = Date.now();
function rafPolyfill(fn) {
    var curr = Date.now();
    var ms = Math.max(0, 16 - (curr - prev));
    var id = setTimeout(fn, ms);
    prev = curr + ms;
    return id;
}
function raf(fn) {
    var requestAnimationFrame = root.requestAnimationFrame || rafPolyfill;
    return requestAnimationFrame.call(root, fn);
}
exports.raf = raf;
function cancelRaf(id) {
    var cancelAnimationFrame = root.cancelAnimationFrame || root.clearTimeout;
    cancelAnimationFrame.call(root, id);
}
exports.cancelRaf = cancelRaf;
// double raf for animation
function doubleRaf(fn) {
    raf(function () {
        raf(fn);
    });
}
exports.doubleRaf = doubleRaf;
